## 第 8 章 函数探幽

C++区别于C语言，提供了新特性：包括 **`内联函数、按引用传递变量、默认的参数值、函数重载（多态）以及模板函数`**。

### 1.内联函数

内联函数的编译代码与其它程序代码内联，编译器就使用相应的函数代码替换函数调用。

#### 1.1 常规函数和内联函数

**常规函数**：调用使得程序调到另一个地址（函数的地址），并在函数结束时返回。

> 将程序流程转到独立的函数。

**内联函数**：程序无需跳到另一个位置处执行代码，再跳回来。

> 用内联函数的代码来替换函数调用。

#### 1.2 内联函数的优缺点

**优点**：运行速度比常规函数快。

**缺点**：占用内存大

#### 1.3 使用内联函数的要求

- 在函数 `声明前` 加上 关键字inline
- 在函数 `定义前` 加上 关键字inline
- 一般用法：省略原型，将整个定义（函数头和所有函数代码）放在本应提供原型的地方。
- ⚠️注意点：~~内联函数不能递归~~

👉例子：square函数计算

```C++
#include<iostream>

inline double square(double x){return x*x;}

int main()
{
	using namespace std;
	double a,b;
	double c = 13.0;
	a = square(5.0);
	b = square(4.5 + 7.5);
	cout << "a = "<<a<<" , b = "<<b<<"\n"; // a =25 b = 144
	cout << "c = "<<c; //c = 13
	cout << ", c squared = "<<square(c++)<<"\n"; // c = 14*14=169
	cout << "Now c = "<<c<<"\n"; //c=14
	return 0;
}
```

✅内联函数和常规函数一样，都是按值来传递参数。

> 在将值传递给函数square之前，程序自动把传入值强制转换为double类型。

#### 1.4 内联和宏

inline是C++新增特性。

> 在C语言中使用`预处理器#define`来提供宏。————> 内联代码的原始实现。
>
> ```c
> #define SQUARE(x) x*x
> ```
>
> 此时不是通过传递参数实现，而是通过文本替换来实现。

**宏的缺点**：~~不能按值传递~~。

### 2. 引用变量



